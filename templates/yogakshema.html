<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="icon" href="static/images/yogalogo1.png" type="image/x-icon">
  <title>Yogaksheema</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style> /* Keep your existing styles */
    @keyframes fade-in-up {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .snap-center { scroll-snap-align: center; }
    .snap-mandatory { scroll-snap-type: x mandatory; }
    
  </style>
</head>
<body class="text-gray-800">

  <a href="https://wa.me/9341444968" target="_blank" class="fixed bottom-8 right-8 z-50">
    <img src="{{ url_for('static', filename='images/whatsapp.png') }}" alt="WhatsApp" class="w-16 h-16 rounded-full shadow-lg border-4 border-white hover:scale-110 transition-transform duration-300">
  </a>

  <header class="fixed top-0 left-0 w-full flex flex-col md:flex-row justify-between items-center p-4 z-50 bg-gray-800 shadow-md h-auto md:h-24">
    <div class="w-full md:w-auto flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <a href="{{ url_for('home') }}" class="flex items-center space-x-3">
          <div class="relative w-16 h-16 md:w-20 md:h-20 rounded-full overflow-hidden border-2 border-green-400">
            <img src="{{ url_for('static', filename='images/logo1.png') }}" alt="Logo" class="w-full h-full object-cover" />
          </div>
          <span class="text-xl md:text-3xl font-bold text-white">Wellnation360</span>
        </a>
      </div>
      <button class="md:hidden text-white focus:outline-none" id="mobile-menu-button">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 text-center text-white">
      <h2 class="text-xl md:text-2xl font-extrabold tracking-wide mb-1">
        <span class="inline-block">Y</span>
        <span class="inline-block">O</span>
        <span class="inline-block">G</span>
        <span class="inline-block">A</span>
      </h2>
      <div class="flex flex-wrap text-xs md:text-sm font-semibold space-x-2 md:space-x-4 justify-center">
        <span>Nourish</span>
        <span>Heal</span>
        <span>Thrive</span>
        <span>Evolve</span>
      </div>
    </div>

    <nav class="hidden md:flex space-x-4 md:space-x-6 text-white font-medium">
      <a href="http://wellnation360.com/index" class="hover:text-green-300">Home</a>
      <a href="#about" class="hover:text-green-300">About</a>
      <a href="http://wellnation360.com/glimpse" class="text-white relative group">
        Gallery
        <span class="absolute left-0 -bottom-1 w-0 h-0.5 bg-green-400 transition-all duration-300 group-hover:w-full"></span>
      </a>
      <div class="text-white relative group">
        <a href="#services" class="text-white relative flex items-center gap-1 group-hover:text-green-400">
          Services
          <svg class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180" fill="currentColor" viewBox="0 0 20 20">
            <path d="M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z"/>
          </svg>
        </a>
        <div class="absolute top-full left-0 mt-2 w-64 bg-white text-black rounded-md shadow-lg opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-300 invisible group-hover:visible z-50" id="services-dropdown-menu">
          <a href="#services" data-service-target="hathayoga" class="block px-4 py-2 hover:text-green-600 transition duration-200">Hatha Yoga</a>
          <a href="#services" data-service-target="aerialyoga" class="block px-4 py-2 hover:text-green-600 transition duration-200">Aerial Yoga</a>
          <a href="#services" data-service-target="chakrameditation" class="block px-4 py-2 hover:text-green-600 transition duration-200">Chakra Meditation</a>
          <a href="#services" data-service-target="therapeuticyoga" class="block px-4 py-2 hover:text-green-600 transition duration-200">Yoga for Arthritis & More</a>
        </div>
      </div>
      <a href="#reviews" class="hover:text-green-300">Reviews</a>
      <a href="http://wellnation360.com/contact" class="hover:text-green-300">Contact</a>
    </nav>

    <div id="mobile-menu" class="hidden w-full md:hidden bg-gray-700 mt-2 py-2 px-4 rounded-lg">
      <a href="http://wellnation360.com/index" class="block py-2 text-white hover:text-green-300">Home</a>
      <a href="about" class="block py-2 text-white hover:text-green-300">About</a>
      <a href="#services" class="block py-2 text-white hover:text-green-300">Services</a>
      <a href="#reviews" class="block py-2 text-white hover:text-green-300">Reviews</a>
      <a href="http://wellnation360.com/contact" class="block py-2 text-white hover:text-green-300">Contact</a>
    </div>
  </header>

  <section id="home" class="relative bg-cover bg-center h-screen pt-28 px-6 md:px-20 z-0" style="background-image: url('{{ url_for('static', filename='images/wellness.jpg') }}');">
    <div class="absolute inset-0 bg-black opacity-40 z-0"></div>
    <div class="relative z-10 flex flex-col md:flex-row items-center justify-between w-full max-w-7xl mx-auto h-full">
      <div class="md:w-1/2 text-center md:text-left text-white space-y-4">
        <h1 class="text-4xl md:text-5xl font-bold leading-tight">
          Your journey to wellness<br /> begins with a single breath.
        </h1>
        <p class="text-lg text-gray-200">
          Empowering your health with natural healing, mindful practices, and expert guidance.
        </p>
        <div class="flex justify-center md:justify-start gap-4">
          <a href="http://wellnation360.com/about" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-full transition duration-300">
            Explore More
          </a>
          <a href="http://wellnation360.com/contact" class="text-white bg-green-600 border border-green-600 hover:bg-white hover:text-green-600 px-6 py-3 rounded-full transition duration-300">
            Consult Now
          </a>
        </div>
      </div>
    </div>
  </section>

  <!---About us Section-->
  <section id="about" class="relative z-0 py-16 px-6 bg-white scroll-mt-20">
    <!-- Content as before -->
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-10 md:gap-16">
        <div class="md:w-2/5 flex justify-center" data-aos="fade-right">
          <div class="relative w-72 h-72 sm:w-80 sm:h-80 lg:w-96 lg:h-96 rounded-full overflow-hidden shadow-2xl border-4 border-green-300 p-2 bg-white">
            <img src="{{ url_for('static', filename='images/logo1.png') }}" alt="Wellnation360 Logo" class="w-full h-full object-contain rounded-full">
          </div>
        </div>
        <div class="md:w-3/5 w-full text-center md:text-left" data-aos="fade-left">
      <h3 class="text-3xl font-bold mb-4">About Us</h3>
      <p class="text-gray-600 text-lg mb-6">
        At Wellnation360, we empower you to live a healthier, more balanced life. We blend modern science with ancient wisdom to help you reconnect with your body and mind. Through a combination of natural healing, mindful practices, and expert guidance, our holistic approach guides you toward vitality and well-being. Whether it's through diet correction, physical strength, or the ancient practices of meditation and acupuncture, we support you in achieving a life of balance, vitality, and true wellness.
      </p>
      <a href="www.wellnation360.com/about" class="bg-green-600 hover:bg-green-700 text-white font-semibold px-8 py-3.5 rounded-lg transition duration-300 shadow-md hover:shadow-lg text-lg">Explore More</a>
        </div>
      </div>
  </section>

<section id="services" class="p-10 bg-gray-50 scroll-mt-20">
  <h3 class="text-3xl font-bold mb-6 text-center">Our Services</h3>
  
  <!-- Horizontal scroll container -->
  <div class="relative">
    <div id="servicesContainer" class="flex overflow-x-auto pb-8 snap-x snap-mandatory -mx-4 px-4 hide-scrollbar space-x-6">
      <p id="loading-services" class="text-center text-gray-500 flex-shrink-0 w-full">Loading services...</p>
    </div>
    
    <!-- Navigation buttons -->
    <div class="flex justify-center mt-4 space-x-4" id="servicesNav">
      <button id="prevService" class="bg-green-600 text-white p-2 rounded-full hover:bg-green-700">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button id="nextService" class="bg-green-600 text-white p-2 rounded-full hover:bg-green-700">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
</section>

  <!-- Meet Dt. Ritu Kapoor Section -->
<section class="bg-gradient-to-br from-[#222222] to-[#1a1a1a] text-white py-20 px-6 md:px-24" id="about-ritu">
  <div data-aos="fade-up" data-aos-delay="100" class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
    <div class="flex justify-center" data-aos="fade-right" data-aos-delay="200">
      <img src="static/images/profilepic.jpeg" alt="Ritu - Nutrition Expert" class="rounded-2xl shadow-lg w-full max-w-sm object-cover">
    </div>
    <div data-aos="fade-left" data-aos-delay="300">
      <h2 class="text-[40px] font-extrabold text-light_yellow mb-6">Meet Dt.Ritu Kapoor</h2>
      <p class="text-lg md:text-xl text-gray-300 leading-relaxed mb-4">
        Ritu is a passionate advocate of healing through nutrition, grounded in both scientific research and holistic wellness. She completed her graduation in <span class="text-yellow-300">Botany from Miranda House, Delhi</span>, and holds dual postgraduate degrees — in <span class="text-yellow-300">Biotechnology from Pune University</span>, specializing in <span class="italic">Animal Tissue Culture</span>, and in <span class="text-yellow-300">Nutrition & Dietetics from Bangalore</span>.
      </p>
      <p class="text-gray-400 mb-4">
        With experience as a research fellow working on cell culture, Ritu developed a deep understanding of how cellular nourishment influences health. She strongly believes:
      </p>
      <p class="italic text-md text-yellow-200 mb-6">
        “Ultimate outcome in terms of health is how well our cells are nourished to keep our DNA matter strong and stable.”
      </p>
      <p class="text-gray-300 leading-relaxed mb-6">
        She has worked as a clinical dietitian at <span class="text-yellow-300">Manipal Hospital</span> and <span class="text-yellow-300">Aarogya Hastha Hospital</span>, where she helped patients restore health through mindful and personalized nutrition plans. Ritu’s guiding motto is <span class="text-yellow-200 font-semibold">“Prevention is better than cure”</span>, and her mission is to empower individuals to take charge of their well-being through sustainable choices.
      </p>
        <div class="space-x-4 mt-8">
          <a href="www.wellnation360.com/contact" class="inline-block bg-yellow-500 text-dark_blue_ font-bold py-4 px-8 rounded-lg shadow-lg transition-all duration-300 transform hover:bg-yellow-600 hover:scale-105 focus:outline-none" data-aos="zoom-in" data-aos-delay="400">
            Book a Consultation
          </a>
          
          <a href="www.wellnation360.com/about" class="inline-block border-4 border-yellow-500 text-yellow-500 font-bold py-4 px-8 rounded-lg shadow-lg transition-all duration-300 transform hover:bg-yellow-500 hover:text-dark_blue_ hover:scale-105 focus:outline-none" data-aos="zoom-in" data-aos-delay="500">
            Dr. Ritu and Team Profile
          </a>
        </div>
    </div>
  </div>
</section>

   <section id="youtube" data-aos="fade-up" class="p-8 text-center scroll-mt-20">
    <h2 class="text-3xl font-bold mb-4">Watch Our YouTube Channel</h2>
    <div class="max-w-4xl mx-auto px-4">
      <iframe class="w-full h-96 rounded-lg shadow-lg" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
      <p class="mt-4 text-green-700 text-lg">
        <a href="https://www.youtube.com/channel/yourchannel" target="_blank" class="underline">Visit our YouTube Channel</a>
      </p>
    </div>
   </section>

  <section id="reviews" class="py-12 bg-gray-50 scroll-mt-20">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-10 text-green-800">
        Client Transformations
      </h2>
      <div class="relative">
        <div id="reviews-carousel" class="flex overflow-x-auto pb-8 snap-x snap-mandatory -mx-4 px-4 hide-scrollbar space-x-4">
          <p id="loading-reviews" class="text-center text-gray-500 flex-shrink-0 w-full">Loading reviews...</p>
        </div>
      </div>
      <div class="flex justify-center mt-8 space-x-2" id="review-dots-container">
        </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="footer" class="bg-gray-800 text-gray-300 py-12 md:py-16">
    <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10 text-center md:text-left">
        <div>
          <h4 class="text-xl font-semibold mb-4 text-white">Wellnation360</h4>
          <p class="text-sm leading-relaxed mb-4">Your partner in holistic health and mindful living...</p>
           <div class="relative w-24 h-24 mx-auto md:mx-0 rounded-full overflow-hidden border-2 border-green-500">
            <img src="{{ url_for('static', filename='images/logo1.png') }}" alt="Wellnation360 Small Logo" class="w-full h-full object-cover" />
          </div>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4 text-white">Quick Links</h4>
          <ul class="space-y-2.5 text-sm">
            <li><a href="{{ url_for('index') }}#home" class="hover:text-green-400 transition-colors duration-200">Home</a></li>
            <li><a href="{{ url_for('about') }}" class="hover:text-green-400 transition-colors duration-200">About Us</a></li>
            <li><a href="{{ url_for('services') }}" class="hover:text-green-400 transition-colors duration-200">Our Services</a></li>
            <li><a href="{{ url_for('gallery') }}" class="hover:text-green-400 transition-colors duration-200">Gallery</a></li>
            <li><a href="http://yoga-kshema.in" class="hover:text-green-400 transition-colors duration-200" target="_blank" rel="noopener noreferrer">Yogakshema Website</a></li>
            <li><a href="{{ url_for('contact_get') }}" class="hover:text-green-400 transition-colors duration-200">Contact Us</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4 text-white">Contact Info</h4>
          <div class="text-sm leading-relaxed space-y-3">
            <div class="flex items-center justify-center md:justify-start gap-2 hover:text-green-400 transition-colors duration-200">
              <i class="fas fa-map-marker-alt text-green-400 text-base w-5 text-center"></i>
              <a href="https://maps.google.com/?q=Kasavanahalli,Bangalore,560035" target="_blank" rel="noopener noreferrer" class="hover:underline">Kasavanahalli, Bangalore 560035</a>
            </div>
            <div class="flex items-center justify-center md:justify-start gap-2 hover:text-green-400 transition-colors duration-200">
              <i class="fas fa-phone-alt text-green-400 text-base w-5 text-center"></i>
              <a href="tel:+919341444968" class="hover:underline">+91 9341444968</a>
            </div>
             <div class="flex items-center justify-center md:justify-start gap-2 hover:text-green-400 transition-colors duration-200">
              <i class="fas fa-envelope text-green-400 text-base w-5 text-center"></i>
              <a href="mailto:wellnation360@gmail.com" class="hover:underline"> wellnation360@gmail.com</a>
            </div>
          </div>
        </div>
        <div>
          <h4 class="text-lg font-semibold mb-4 text-white">Follow Us</h4>
          <div class="flex justify-center md:justify-start space-x-5">
            <a href="https://www.instagram.com/healholistically_wellnation360?igsh=b3NwdWFjamEyd3Q5" target="_blank" rel="noopener noreferrer" aria-label="Instagram" class="text-2xl hover:text-pink-500 transition-colors duration-200"><i class="fab fa-instagram"></i></a>
            <a href="https://youtube.com/@wellnation3603?si=4kRF5qbO-v8UrAw5" target="_blank" rel="noopener noreferrer" aria-label="YouTube" class="text-2xl hover:text-red-500 transition-colors duration-200"><i class="fab fa-youtube"></i></a>
            <a href="https://facebook.com/wellnation360" target="_blank" rel="noopener noreferrer" aria-label="Facebook" class="text-2xl hover:text-blue-600 transition-colors duration-200"><i class="fab fa-facebook"></i></a>
          </div>
           <p class="text-xs mt-6 text-gray-400">Stay connected for wellness tips, updates, and community events.</p>
        </div>
      </div>
    <div class="text-center text-sm mt-10 border-t border-gray-700 pt-8">© <span id="currentYear"></span> Wellnation360. All rights reserved.</div>
  </footer>

<script>
  // --- Mobile Menu Toggle ---
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', function() {
      const isExpanded = mobileMenu.classList.toggle('hidden');
      mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
      // Toggle icon
      mobileMenuButton.innerHTML = !isExpanded ? '<i class="fas fa-times text-2xl"></i>' : '<i class="fas fa-bars text-2xl"></i>';
    });
    // Close menu when a link is clicked
    mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
            mobileMenuButton.setAttribute('aria-expanded', 'false');
            mobileMenuButton.innerHTML = '<i class="fas fa-bars text-2xl"></i>';
        });
    });
  }

  // Set current year in footer
  document.getElementById('currentYear').textContent = new Date().getFullYear();
  
  // AOS (Animate on Scroll) Initialization
  if (typeof AOS !== 'undefined') {
      AOS.init({
          duration: 800,
          easing: 'ease-in-out-quad',
          once: true,
          offset: 50
      });
  }

const REVIEWS_API_ENDPOINT = "/api/reviews";
const YOGAKSHEMA_PLATFORM_NAME = "Yogakshema";

// --- Dynamic Data Loading for Yogakshema ---
document.addEventListener('DOMContentLoaded', function() {
  // --- Fetch and Display Services ---
  const servicesContainer = document.getElementById('servicesContainer');
  const loadingServicesMsg = document.getElementById('loading-services');
  const servicesDropdownMenu = document.getElementById('services-dropdown-menu');
  const reviewsCarousel = document.getElementById('reviews-carousel'); // Fixed ID
  const loadingReviewsMsg = document.getElementById('loading-reviews');
  const reviewDotsContainer = document.getElementById('review-dots-container');

  if (reviewsCarousel && loadingReviewsMsg) {
    fetch(REVIEWS_API_ENDPOINT)
      .then(response => {
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        return response.json();
      })
      .then(data => {
        loadingReviewsMsg.style.display = 'none';
        reviewsCarousel.innerHTML = '';

        // Filter for Yogakshema platform only
        const platformReviews = data.reviews.filter(review => 
          review.platform && review.platform.toLowerCase() === YOGAKSHEMA_PLATFORM_NAME.toLowerCase()
        );

        if (platformReviews.length > 0) {
          platformReviews.forEach((review, index) => {
            const reviewCard = document.createElement('div');
            reviewCard.className = 'flex-shrink-0 w-80 md:w-96 bg-white rounded-xl shadow-lg p-6 snap-start';
            
            const defaultAvatar = `https://ui-avatars.com/api/?name=${encodeURIComponent(review.reviewer_name || 'Client')}&background=random&color=fff&bold=true&size=48`;
            const avatarUrl = review.reviewer_image_url || defaultAvatar;

            const starsHtml = Array(5).fill(null).map((_, i) => 
              `<i class="fas fa-star ${i < (review.rating || 0) ? 'text-yellow-400' : 'text-gray-300'}"></i>`
            ).join('');

            let mediaHtml = '';
            if (review.media_url && review.media_type === 'image') {
              mediaHtml = `<img src="${review.media_url}" alt="Review media" class="mt-4 rounded-lg w-full max-h-48 object-cover" onerror="this.style.display='none';">`;
            } else if (review.media_url && review.media_type === 'video') {
              mediaHtml = `<video controls src="${review.media_url}" class="mt-4 rounded-lg w-full max-h-60" poster="${avatarUrl}"><p>Your browser doesn't support video.</p></video>`;
            }

            reviewCard.innerHTML = `
              <div class="flex items-start mb-3">
                <img src="${avatarUrl}" alt="${review.reviewer_name || 'Client'}" class="w-12 h-12 rounded-full mr-4 border-2 border-green-200">
                <div>
                  <h3 class="font-semibold text-gray-800 text-lg">${review.reviewer_name || 'Anonymous'}</h3>
                  <div class="flex items-center text-sm">${starsHtml}</div>
                </div>
              </div>
              <p class="text-gray-600 text-sm leading-relaxed mb-3">${review.content || 'Great experience!'}</p>
              ${mediaHtml}
            `;
            reviewsCarousel.appendChild(reviewCard);

            // Add dot navigation
            const dot = document.createElement('button');
            dot.className = `w-3 h-3 rounded-full mx-1 ${index === 0 ? 'bg-green-600' : 'bg-gray-300'}`;
            dot.addEventListener('click', () => {
              reviewsCarousel.scrollTo({
                left: index * (reviewCard.offsetWidth + 16),
                behavior: 'smooth'
              });
            });
            reviewDotsContainer.appendChild(dot);
          });
        } else {
          reviewsCarousel.innerHTML = `
            <p class="text-center text-gray-500 flex-shrink-0 w-full">
              No reviews for Yogakshema yet. Be the first to share your experience!
            </p>`;
        }
      })
      .catch(error => {
        console.error('Error fetching reviews:', error);
        loadingReviewsMsg.style.display = 'none';
        reviewsCarousel.innerHTML = `
          <p class="text-center text-red-500 flex-shrink-0 w-full">
            Could not load reviews. Please try again later.
          </p>`;
      });
  }

  fetch("/api/yogaservices")
    .then(response => {
      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
      return response.json();
    })
    .then(data => {
      // Check if we got successful response
      if (data.status !== "success" || !data.services) {
        throw new Error('Invalid service data format');
      }

      const services = data.services;
      
      loadingServicesMsg.style.display = 'none';
      servicesContainer.innerHTML = ''; // Clear loading message

      if (services.length > 0) {
        services.forEach(service => {
          // Create service card
          const card = document.createElement('div');
          card.className = 'flex-shrink-0 w-80 bg-white rounded-2xl shadow-md p-4 snap-center';
          card.id = `service-${service.name.toLowerCase().replace(/\s+/g, '-')}`;

          // Format pricing options
          let pricingHtml = '';
          if (service.pricing_options && service.pricing_options.length > 0) {
            pricingHtml = service.pricing_options.map(option => 
              `<p class="text-sm text-gray-700">${option.text}: ₹${option.value}</p>`
            ).join('');
          } else {
            pricingHtml = '<p class="text-gray-600">Contact for pricing</p>';
          }
          
          // Create image URL - assuming images are stored in static/uploads
          const imageUrl = "{{ url_for('static', filename='') }}" + service.image;

          card.innerHTML = `
            <div class="h-full flex flex-col">
              <img src="${imageUrl}" alt="${service.name}" class="rounded-xl w-full h-48 object-cover mb-4">
              <div class="flex-grow">
                <h2 class="text-xl font-semibold">${service.name}</h2>
                <p class="text-gray-600">Instructor: ${service.instructor}</p>
                <p class="text-gray-600">Timing: ${service.timing}</p>
                <div class="mt-2">${pricingHtml}</div>
              </div>
              <div class="mt-4">
                <a href="{{ url_for('yoga_service') }}" class="block text-center bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition mb-2">
                  View Details
                </a>
                <a href="{{ url_for('contact_get') }}?service=${encodeURIComponent(service.name)}" class="block text-center bg-green-600 text-white px-6 py-2 rounded-full hover:bg-green-700 transition">
                  Enroll Now
                </a>
              </div>
            </div>
          `;
          servicesContainer.appendChild(card);

          // Add to services dropdown
          const dropdownLink = document.createElement('a');
          dropdownLink.href = `#service-${service.name.toLowerCase().replace(/\s+/g, '-')}`;
          dropdownLink.className = 'block px-4 py-2 hover:text-green-600 transition duration-200';
          dropdownLink.textContent = service.name;
          dropdownLink.setAttribute('data-service-target', service.name.toLowerCase().replace(/\s+/g, ''));
          servicesDropdownMenu.appendChild(dropdownLink);
        });

        // Initialize carousel navigation after loading services
        initServiceCarousel();
      } else {
        servicesContainer.innerHTML = `<p class="text-center text-gray-500 flex-shrink-0 w-full">No services currently available.</p>`;
      }
    })
    .catch(error => {
      console.error('Error fetching services:', error);
      loadingServicesMsg.style.display = 'none';
      servicesContainer.innerHTML = `<p class="text-center text-red-500 flex-shrink-0 w-full">Could not load services. Please try again later.</p>`;
    });

  // Initialize service carousel navigation
  function initServiceCarousel() {
    const container = document.getElementById('servicesContainer');
    const prevBtn = document.getElementById('prevService');
    const nextBtn = document.getElementById('nextService');
    
    if (!container || !prevBtn || !nextBtn) return;
    
    prevBtn.addEventListener('click', () => {
      container.scrollBy({ left: -300, behavior: 'smooth' });
    });
    
    nextBtn.addEventListener('click', () => {
      container.scrollBy({ left: 300, behavior: 'smooth' });
    });
  }

    // --- Setup Horizontal Scroll for Services ---
    if (servicesContainer && servicesNavContainer) {
        const prevServiceBtn = document.getElementById('prevService');
        const nextServiceBtn = document.getElementById('nextService');

        function updateServiceNavButtons() {
            if (!servicesContainer.firstChild || !prevServiceBtn) return;
            const scrollAmount = servicesContainer.clientWidth * 0.8; // Scroll 80% of visible width
            prevServiceBtn.disabled = servicesContainer.scrollLeft < 10;
            nextServiceBtn.disabled = servicesContainer.scrollLeft >= (servicesContainer.scrollWidth - servicesContainer.clientWidth - 10);
        }

        if(prevServiceBtn && nextServiceBtn) {
            prevServiceBtn.addEventListener('click', () => {
                servicesContainer.scrollBy({ left: - (servicesContainer.firstChild.offsetWidth + 24), behavior: 'smooth' }); // card width + gap
            });
            nextServiceBtn.addEventListener('click', () => {
                servicesContainer.scrollBy({ left: (servicesContainer.firstChild.offsetWidth + 24), behavior: 'smooth' });
            });
            servicesContainer.addEventListener('scroll', updateServiceNavButtons, { passive: true });
            // Call initially after items might be loaded
             setTimeout(updateServiceNavButtons, 500); // Give time for content to load
             window.addEventListener('resize', updateServiceNavButtons);
        }
    }


    // --- Fetch and Display Reviews ---
    const reviewsNavContainer = document.getElementById('reviewsNav');


    if (reviewsCarousel && loadingReviewsMsg) {
        fetch(REVIEWS_API_ENDPOINT)
          .then(response => {
            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            return response.json();
          })
          .then(data => {
            loadingReviewsMsg.style.display = 'none';
            reviewsCarousel.innerHTML = ''; 

            const platformReviews = data.reviews.filter(review => review.platform && review.platform.toLowerCase() === YOGAKSHEMA_PLATFORM_NAME.toLowerCase());

            if (platformReviews.length > 0) {
              platformReviews.forEach(review => {
                const reviewCard = document.createElement('div');
                reviewCard.className = 'flex-shrink-0 w-80 md:w-96 bg-white rounded-xl shadow-lg p-6 snap-start';
                
                const defaultAvatar = `https://ui-avatars.com/api/?name=${encodeURIComponent(review.reviewer_name || 'Client')}&background=random&color=fff&bold=true&size=48`;
                const avatarUrl = review.reviewer_image_url || defaultAvatar;

                const starsHtml = Array(5).fill(null).map((_, i) => 
                    `<i class="fas fa-star ${i < (review.rating || 0) ? 'text-yellow-400' : 'text-gray-300'}"></i>`
                ).join('');

                let mediaHtml = '';
                if (review.media_url && review.media_type === 'image') {
                    mediaHtml = `<img src="${review.media_url}" alt="Review media for ${review.reviewer_name}" class="mt-4 rounded-lg w-full max-h-48 object-cover" onerror="this.style.display='none';">`;
                } else if (review.media_url && review.media_type === 'video') {
                    mediaHtml = `<video controls src="${review.media_url}" class="mt-4 rounded-lg w-full max-h-60" poster="${avatarUrl}"><p>Your browser does not support video.</p></video>`;
                }

                reviewCard.innerHTML = `
                  <div class="flex items-start mb-3">
                    <img src="${avatarUrl}" alt="${review.reviewer_name || 'Client'}" class="w-12 h-12 rounded-full mr-4 border-2 border-green-200">
                    <div>
                      <h3 class="font-semibold text-gray-800 text-lg">${review.reviewer_name || 'Anonymous Yogi'}</h3>
                      <div class="flex items-center text-sm">${starsHtml}</div>
                    </div>
                  </div>
                  <p class="text-gray-600 text-sm leading-relaxed mb-3">${review.content || 'A wonderful experience!'}</p>
                  ${mediaHtml}
                `;
                reviewsCarousel.appendChild(reviewCard);
              });
              if (platformReviews.length > 1 && reviewsNavContainer) {
                  reviewsNavContainer.classList.remove('md:hidden');
              } else if (reviewsNavContainer) {
                  reviewsNavContainer.style.display = 'none';
              }
            } else {
              reviewsCarousel.innerHTML = `<p class="text-center text-gray-500 col-span-full py-10">No reviews for ${YOGAKSHEMA_PLATFORM_NAME} yet. Be the first to share your experience!</p>`;
              if(reviewsNavContainer) reviewsNavContainer.style.display = 'none';
            }
            if (typeof AOS !== 'undefined') AOS.refresh();
            initializeReviewCarouselScroll(); // Initialize scroll for reviews
          })
          .catch(error => {
            console.error(`Error fetching ${YOGAKSHEMA_PLATFORM_NAME} reviews:`, error);
            loadingReviewsMsg.style.display = 'none';
            reviewsCarousel.innerHTML = `<p class="text-center text-red-500 col-span-full py-10">Could not load reviews. Please try again later.</p>`;
            if(reviewsNavContainer) reviewsNavContainer.style.display = 'none';
          });
    } else {
        console.warn("Review display elements not found.");
    }

    // --- Setup Horizontal Scroll for Reviews ---
    function initializeReviewCarouselScroll() {
        if (reviewsCarousel && reviewsNavContainer) {
            const prevReviewBtn = document.getElementById('prevReview');
            const nextReviewBtn = document.getElementById('nextReview');

            function updateReviewNavButtons() {
                if (!reviewsCarousel.firstChild || !prevReviewBtn) return;
                 prevReviewBtn.disabled = reviewsCarousel.scrollLeft < 10;
                nextReviewBtn.disabled = reviewsCarousel.scrollLeft >= (reviewsCarousel.scrollWidth - reviewsCarousel.clientWidth - 10);
            }

            if(prevReviewBtn && nextReviewBtn){
                prevReviewBtn.addEventListener('click', () => {
                    reviewsCarousel.scrollBy({ left: -(reviewsCarousel.firstChild.offsetWidth + 24), behavior: 'smooth' });
                });
                nextReviewBtn.addEventListener('click', () => {
                    reviewsCarousel.scrollBy({ left: (reviewsCarousel.firstChild.offsetWidth + 24), behavior: 'smooth' });
                });
                reviewsCarousel.addEventListener('scroll', updateReviewNavButtons, { passive: true });
                setTimeout(updateReviewNavButtons, 500); 
                window.addEventListener('resize', updateReviewNavButtons);
            }
        }
    }
  });
</script>
</body>
</html>